<<<<<<< HEAD
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾½æ¯›çƒå ´é ç´„</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #schedule { margin-top: 20px; }
        .booked { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ç¾½æ¯›çƒå ´é ç´„ç³»çµ±</h1>
    <label for="date">é¸æ“‡æ—¥æœŸï¼š</label>
    <input type="date" id="date">
    <label for="time">é¸æ“‡æ™‚é–“ï¼š</label>
    <input type="time" id="time">
    <button id="bookBtn">é ç´„</button>

    <h2>é ç´„æ™‚æ®µ</h2>
    <ul id="schedule"></ul>

    <!-- âœ… ç¢ºä¿ Firebase SDK æ­£ç¢ºè¼‰å…¥ -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", async function() {
            console.log("ğŸš€ æ­£åœ¨åˆå§‹åŒ– Firebase...");

            // ğŸ”¥ Firebase è¨­å®š
            const firebaseConfig = {
                apiKey: "AIzaSyCQWIIWhBIY0B_iZX3KSW7aWo0xtMT84Ew",
                authDomain: "badminton-39217.firebaseapp.com",
                projectId: "badminton-39217",
                storageBucket: "badminton-39217.appspot.com",
                messagingSenderId: "210517497470",
                appId: "1:210517497470:web:ce1cc1d9d7df498d3fea2f",
                measurementId: "G-9CW61BHC43"
            };

            // âœ… åˆå§‹åŒ– Firebase
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();

            console.log("âœ… Firebase åˆå§‹åŒ–å®Œæˆï¼");

            // ğŸ”¹ è¼‰å…¥é ç´„æ™‚æ®µ
            async function loadBookings() {
                let scheduleList = document.getElementById("schedule");
                scheduleList.innerHTML = "";

                const querySnapshot = await db.collection("reservations").get();
                querySnapshot.forEach((doc) => {
                    let data = doc.data();
                    let li = document.createElement("li");
                    li.textContent = `${data.date} ${data.time}`;
                    li.classList.add("booked");
                    scheduleList.appendChild(li);
                });
            }

            // ğŸ”¹ é ç´„å ´åœ°
            async function bookCourt() {
                let date = document.getElementById("date").value;
                let time = document.getElementById("time").value;

                if (!date || !time) {
                    alert("è«‹é¸æ“‡æ—¥æœŸå’Œæ™‚é–“ï¼");
                    return;
                }

                // ğŸ” æª¢æŸ¥æ˜¯å¦å·²è¢«é ç´„
                let courtRef = db.collection("reservations");
                let snapshot = await courtRef.where("date", "==", date).where("time", "==", time).get();
                if (!snapshot.empty) {
                    alert("æ­¤æ™‚æ®µå·²è¢«é ç´„ï¼");
                    return;
                }

                // âœ… æ–°å¢é ç´„
                await courtRef.add({ date, time });
                alert("é ç´„æˆåŠŸï¼");
                loadBookings(); // é‡æ–°è¼‰å…¥é ç´„æ™‚æ®µ
            }

            // ğŸ”¹ ç¶å®šæŒ‰éˆ•é»æ“Šäº‹ä»¶
            document.getElementById("bookBtn").addEventListener("click", bookCourt);

            // ğŸ”¹ é é¢è¼‰å…¥æ™‚åŸ·è¡Œ
            loadBookings();
        });
    </script>
</body>
</html>
=======
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¾½æ¯›çƒå ´é ç´„</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #schedule { margin-top: 20px; }
        .booked { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ç¾½æ¯›çƒå ´é ç´„ç³»çµ±</h1>
    <label for="date">é¸æ“‡æ—¥æœŸï¼š</label>
    <input type="date" id="date">
    <label for="time">é¸æ“‡æ™‚é–“ï¼š</label>
    <input type="time" id="time">
    <button id="bookBtn">é ç´„</button>

    <h2>é ç´„æ™‚æ®µ</h2>
    <ul id="schedule"></ul>

    <!-- âœ… ç¢ºä¿ Firebase SDK æ­£ç¢ºè¼‰å…¥ -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", async function() {
            console.log("ğŸš€ æ­£åœ¨åˆå§‹åŒ– Firebase...");

            // ğŸ”¥ Firebase è¨­å®š
            const firebaseConfig = {
                apiKey: "AIzaSyCQWIIWhBIY0B_iZX3KSW7aWo0xtMT84Ew",
                authDomain: "badminton-39217.firebaseapp.com",
                projectId: "badminton-39217",
                storageBucket: "badminton-39217.appspot.com",
                messagingSenderId: "210517497470",
                appId: "1:210517497470:web:ce1cc1d9d7df498d3fea2f",
                measurementId: "G-9CW61BHC43"
            };

            // âœ… åˆå§‹åŒ– Firebase
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();

            console.log("âœ… Firebase åˆå§‹åŒ–å®Œæˆï¼");

            // ğŸ”¹ è¼‰å…¥é ç´„æ™‚æ®µ
            async function loadBookings() {
                let scheduleList = document.getElementById("schedule");
                scheduleList.innerHTML = "";

                const querySnapshot = await db.collection("reservations").get();
                querySnapshot.forEach((doc) => {
                    let data = doc.data();
                    let li = document.createElement("li");
                    li.textContent = `${data.date} ${data.time}`;
                    li.classList.add("booked");
                    scheduleList.appendChild(li);
                });
            }

            // ğŸ”¹ é ç´„å ´åœ°
            async function bookCourt() {
                let date = document.getElementById("date").value;
                let time = document.getElementById("time").value;

                if (!date || !time) {
                    alert("è«‹é¸æ“‡æ—¥æœŸå’Œæ™‚é–“ï¼");
                    return;
                }

                // ğŸ” æª¢æŸ¥æ˜¯å¦å·²è¢«é ç´„
                let courtRef = db.collection("reservations");
                let snapshot = await courtRef.where("date", "==", date).where("time", "==", time).get();
                if (!snapshot.empty) {
                    alert("æ­¤æ™‚æ®µå·²è¢«é ç´„ï¼");
                    return;
                }

                // âœ… æ–°å¢é ç´„
                await courtRef.add({ date, time });
                alert("é ç´„æˆåŠŸï¼");
                loadBookings(); // é‡æ–°è¼‰å…¥é ç´„æ™‚æ®µ
            }

            // ğŸ”¹ ç¶å®šæŒ‰éˆ•é»æ“Šäº‹ä»¶
            document.getElementById("bookBtn").addEventListener("click", bookCourt);

            // ğŸ”¹ é é¢è¼‰å…¥æ™‚åŸ·è¡Œ
            loadBookings();
        });
    </script>
</body>
</html>
>>>>>>> 3f9d2e6 (Initialize Firebase Hosting setup)
